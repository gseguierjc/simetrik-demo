{"format_version":"1.0","terraform_version":"1.12.2","values":{"outputs":{"codebuild_project_arn":{"sensitive":false,"value":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","type":"string"},"codebuild_project_name":{"sensitive":false,"value":"demo-grpc-build","type":"string"}},"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"647187952873","arn":"arn:aws:iam::647187952873:user/terraform-demo-user","id":"647187952873","user_id":"AIDAZNL3IOTUZVMMES474"},"sensitive_values":{}},{"address":"data.aws_iam_policy_document.codebuild_assume","mode":"data","type":"aws_iam_policy_document","name":"codebuild_assume","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1229436035","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"codebuild.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["codebuild.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.terraform_remote_state.eks","mode":"data","type":"terraform_remote_state","name":"eks","provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"demo-eks-state-bucket-647187952873-7632948f","key":"eks/terraform.tfstate","region":"us-east-1"},"defaults":null,"outputs":{"cluster_arn":"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks","cluster_endpoint":"https://608A3A8BB6F0AED3B11804B6041D5ACC.gr7.us-east-1.eks.amazonaws.com","cluster_name":"demo-eks","ecr_repository_url":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"aws_codebuild_project.app","mode":"managed","type":"aws_codebuild_project","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","artifacts":[{"artifact_identifier":"","bucket_owner_access":"","encryption_disabled":false,"location":"","name":"","namespace_type":"","override_artifact_name":false,"packaging":"","path":"","type":"NO_ARTIFACTS"}],"badge_enabled":false,"badge_url":"","build_batch_config":[],"build_timeout":60,"cache":[{"location":"","modes":[],"type":"NO_CACHE"}],"concurrent_build_limit":0,"description":"","encryption_key":"arn:aws:kms:us-east-1:647187952873:alias/aws/s3","environment":[{"certificate":"","compute_type":"BUILD_GENERAL1_SMALL","docker_server":[],"environment_variable":[{"name":"ECR_REPO","type":"PLAINTEXT","value":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},{"name":"CLUSTER_NAME","type":"PLAINTEXT","value":"demo-eks"}],"fleet":[],"image":"aws/codebuild/standard:6.0","image_pull_credentials_type":"CODEBUILD","privileged_mode":true,"registry_credential":[],"type":"LINUX_CONTAINER"}],"file_system_locations":[],"id":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","logs_config":[{"cloudwatch_logs":[{"group_name":"","status":"ENABLED","stream_name":""}],"s3_logs":[{"bucket_owner_access":"","encryption_disabled":false,"location":"","status":"DISABLED"}]}],"name":"demo-grpc-build","project_visibility":"PRIVATE","public_project_alias":"","queued_timeout":480,"region":"us-east-1","resource_access_role":"","secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"service_role":"arn:aws:iam::647187952873:role/demo-codebuild-role","source":[{"auth":[],"build_status_config":[{"context":"codebuild/demo-grpc","target_url":""}],"buildspec":"buildspec.yml","git_clone_depth":1,"git_submodules_config":[],"insecure_ssl":false,"location":"https://github.com/gseguierjc/simetrik-demo","report_build_status":false,"type":"GITHUB"}],"source_version":"","tags":{},"tags_all":{},"vpc_config":[]},"sensitive_values":{"artifacts":[{}],"build_batch_config":[],"cache":[{"modes":[]}],"environment":[{"docker_server":[],"environment_variable":[{},{}],"fleet":[],"registry_credential":[]}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{}],"s3_logs":[{}]}],"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[{}],"git_submodules_config":[]}],"tags":{},"tags_all":{},"vpc_config":[]},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build"}},{"address":"aws_iam_role.codebuild_role","mode":"managed","type":"aws_iam_role","name":"codebuild_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::647187952873:role/demo-codebuild-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-07-10T17:10:01Z","description":"","force_detach_policies":false,"id":"demo-codebuild-role","inline_policy":[{"name":"demo-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser"],"max_session_duration":3600,"name":"demo-codebuild-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROAZNL3IOTU6IDZ4GF2E"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-codebuild-role"}},{"address":"aws_iam_role_policy.codebuild_policy","mode":"managed","type":"aws_iam_role_policy","name":"codebuild_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role:demo-policy","name":"demo-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-policy","role":"demo-codebuild-role"}},{"address":"aws_iam_role_policy_attachment.codebuild_ecr","mode":"managed","type":"aws_iam_role_policy_attachment","name":"codebuild_ecr","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role"],"identity_schema_version":0,"identity":{"account_id":"647187952873","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"}}]}}}
{"format_version":"1.0","terraform_version":"1.12.2","values":{"outputs":{"codebuild_project_arn":{"sensitive":false,"value":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","type":"string"},"codebuild_project_name":{"sensitive":false,"value":"demo-grpc-build","type":"string"}},"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"647187952873","arn":"arn:aws:iam::647187952873:user/terraform-demo-user","id":"647187952873","user_id":"AIDAZNL3IOTUZVMMES474"},"sensitive_values":{}},{"address":"data.aws_iam_policy_document.codebuild_assume","mode":"data","type":"aws_iam_policy_document","name":"codebuild_assume","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1229436035","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"codebuild.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["codebuild.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.terraform_remote_state.eks","mode":"data","type":"terraform_remote_state","name":"eks","provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"demo-eks-state-bucket-647187952873-7632948f","key":"eks/terraform.tfstate","region":"us-east-1"},"defaults":null,"outputs":{"cluster_arn":"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks","cluster_endpoint":"https://608A3A8BB6F0AED3B11804B6041D5ACC.gr7.us-east-1.eks.amazonaws.com","cluster_name":"demo-eks","ecr_repository_url":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"aws_codebuild_project.app","mode":"managed","type":"aws_codebuild_project","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","artifacts":[{"artifact_identifier":"","bucket_owner_access":"","encryption_disabled":false,"location":"","name":"","namespace_type":"","override_artifact_name":false,"packaging":"","path":"","type":"NO_ARTIFACTS"}],"badge_enabled":false,"badge_url":"","build_batch_config":[],"build_timeout":60,"cache":[{"location":"","modes":[],"type":"NO_CACHE"}],"concurrent_build_limit":0,"description":"","encryption_key":"arn:aws:kms:us-east-1:647187952873:alias/aws/s3","environment":[{"certificate":"","compute_type":"BUILD_GENERAL1_SMALL","docker_server":[],"environment_variable":[{"name":"ECR_REPO","type":"PLAINTEXT","value":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},{"name":"CLUSTER_NAME","type":"PLAINTEXT","value":"demo-eks"}],"fleet":[],"image":"aws/codebuild/standard:6.0","image_pull_credentials_type":"CODEBUILD","privileged_mode":true,"registry_credential":[],"type":"LINUX_CONTAINER"}],"file_system_locations":[],"id":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","logs_config":[{"cloudwatch_logs":[{"group_name":"","status":"ENABLED","stream_name":""}],"s3_logs":[{"bucket_owner_access":"","encryption_disabled":false,"location":"","status":"DISABLED"}]}],"name":"demo-grpc-build","project_visibility":"PRIVATE","public_project_alias":"","queued_timeout":480,"region":"us-east-1","resource_access_role":"","secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"service_role":"arn:aws:iam::647187952873:role/demo-codebuild-role","source":[{"auth":[],"build_status_config":[{"context":"codebuild/demo-grpc","target_url":""}],"buildspec":"buildspec.yml","git_clone_depth":1,"git_submodules_config":[],"insecure_ssl":false,"location":"https://github.com/gseguierjc/simetrik-demo","report_build_status":false,"type":"GITHUB"}],"source_version":"","tags":{},"tags_all":{},"vpc_config":[]},"sensitive_values":{"artifacts":[{}],"build_batch_config":[],"cache":[{"modes":[]}],"environment":[{"docker_server":[],"environment_variable":[{},{}],"fleet":[],"registry_credential":[]}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{}],"s3_logs":[{}]}],"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[{}],"git_submodules_config":[]}],"tags":{},"tags_all":{},"vpc_config":[]},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build"}},{"address":"aws_iam_role.codebuild_role","mode":"managed","type":"aws_iam_role","name":"codebuild_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::647187952873:role/demo-codebuild-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-07-10T17:10:01Z","description":"","force_detach_policies":false,"id":"demo-codebuild-role","inline_policy":[{"name":"demo-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser"],"max_session_duration":3600,"name":"demo-codebuild-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROAZNL3IOTU6IDZ4GF2E"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-codebuild-role"}},{"address":"aws_iam_role_policy.codebuild_policy","mode":"managed","type":"aws_iam_role_policy","name":"codebuild_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role:demo-policy","name":"demo-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-policy","role":"demo-codebuild-role"}},{"address":"aws_iam_role_policy_attachment.codebuild_ecr","mode":"managed","type":"aws_iam_role_policy_attachment","name":"codebuild_ecr","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role"],"identity_schema_version":0,"identity":{"account_id":"647187952873","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"}}]}}}
{"format_version":"1.0","terraform_version":"1.12.2","values":{"outputs":{"codebuild_project_arn":{"sensitive":false,"value":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","type":"string"},"codebuild_project_name":{"sensitive":false,"value":"demo-grpc-build","type":"string"}},"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"647187952873","arn":"arn:aws:iam::647187952873:user/terraform-demo-user","id":"647187952873","user_id":"AIDAZNL3IOTUZVMMES474"},"sensitive_values":{}},{"address":"data.aws_iam_policy_document.codebuild_assume","mode":"data","type":"aws_iam_policy_document","name":"codebuild_assume","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1229436035","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"codebuild.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["codebuild.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.terraform_remote_state.eks","mode":"data","type":"terraform_remote_state","name":"eks","provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"demo-eks-state-bucket-647187952873-7632948f","key":"eks/terraform.tfstate","region":"us-east-1"},"defaults":null,"outputs":{"cluster_arn":"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks","cluster_endpoint":"https://608A3A8BB6F0AED3B11804B6041D5ACC.gr7.us-east-1.eks.amazonaws.com","cluster_name":"demo-eks","ecr_repository_url":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"aws_codebuild_project.app","mode":"managed","type":"aws_codebuild_project","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","artifacts":[{"artifact_identifier":"","bucket_owner_access":"","encryption_disabled":false,"location":"","name":"","namespace_type":"","override_artifact_name":false,"packaging":"","path":"","type":"NO_ARTIFACTS"}],"badge_enabled":false,"badge_url":"","build_batch_config":[],"build_timeout":60,"cache":[{"location":"","modes":[],"type":"NO_CACHE"}],"concurrent_build_limit":0,"description":"","encryption_key":"arn:aws:kms:us-east-1:647187952873:alias/aws/s3","environment":[{"certificate":"","compute_type":"BUILD_GENERAL1_SMALL","docker_server":[],"environment_variable":[{"name":"ECR_REPO","type":"PLAINTEXT","value":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},{"name":"CLUSTER_NAME","type":"PLAINTEXT","value":"demo-eks"}],"fleet":[],"image":"aws/codebuild/standard:6.0","image_pull_credentials_type":"CODEBUILD","privileged_mode":true,"registry_credential":[],"type":"LINUX_CONTAINER"}],"file_system_locations":[],"id":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","logs_config":[{"cloudwatch_logs":[{"group_name":"","status":"ENABLED","stream_name":""}],"s3_logs":[{"bucket_owner_access":"","encryption_disabled":false,"location":"","status":"DISABLED"}]}],"name":"demo-grpc-build","project_visibility":"PRIVATE","public_project_alias":"","queued_timeout":480,"region":"us-east-1","resource_access_role":"","secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"service_role":"arn:aws:iam::647187952873:role/demo-codebuild-role","source":[{"auth":[],"build_status_config":[{"context":"codebuild/demo-grpc","target_url":""}],"buildspec":"buildspec.yml","git_clone_depth":1,"git_submodules_config":[],"insecure_ssl":false,"location":"https://github.com/gseguierjc/simetrik-demo","report_build_status":false,"type":"GITHUB"}],"source_version":"","tags":{},"tags_all":{},"vpc_config":[]},"sensitive_values":{"artifacts":[{}],"build_batch_config":[],"cache":[{"modes":[]}],"environment":[{"docker_server":[],"environment_variable":[{},{}],"fleet":[],"registry_credential":[]}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{}],"s3_logs":[{}]}],"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[{}],"git_submodules_config":[]}],"tags":{},"tags_all":{},"vpc_config":[]},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build"}},{"address":"aws_iam_role.codebuild_role","mode":"managed","type":"aws_iam_role","name":"codebuild_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::647187952873:role/demo-codebuild-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-07-10T17:10:01Z","description":"","force_detach_policies":false,"id":"demo-codebuild-role","inline_policy":[{"name":"demo-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser"],"max_session_duration":3600,"name":"demo-codebuild-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROAZNL3IOTU6IDZ4GF2E"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-codebuild-role"}},{"address":"aws_iam_role_policy.codebuild_policy","mode":"managed","type":"aws_iam_role_policy","name":"codebuild_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role:demo-policy","name":"demo-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-policy","role":"demo-codebuild-role"}},{"address":"aws_iam_role_policy_attachment.codebuild_ecr","mode":"managed","type":"aws_iam_role_policy_attachment","name":"codebuild_ecr","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role"],"identity_schema_version":0,"identity":{"account_id":"647187952873","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"}}]}}}
{"format_version":"1.0","terraform_version":"1.12.2","values":{"outputs":{"codebuild_project_arn":{"sensitive":false,"value":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","type":"string"},"codebuild_project_name":{"sensitive":false,"value":"demo-grpc-build","type":"string"}},"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"647187952873","arn":"arn:aws:iam::647187952873:user/terraform-demo-user","id":"647187952873","user_id":"AIDAZNL3IOTUZVMMES474"},"sensitive_values":{}},{"address":"data.aws_iam_policy_document.codebuild_assume","mode":"data","type":"aws_iam_policy_document","name":"codebuild_assume","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1229436035","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"codebuild.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["codebuild.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.terraform_remote_state.eks","mode":"data","type":"terraform_remote_state","name":"eks","provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"demo-eks-state-bucket-647187952873-7632948f","key":"eks/terraform.tfstate","region":"us-east-1"},"defaults":null,"outputs":{"cluster_arn":"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks","cluster_endpoint":"https://608A3A8BB6F0AED3B11804B6041D5ACC.gr7.us-east-1.eks.amazonaws.com","cluster_name":"demo-eks","ecr_repository_url":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"aws_codebuild_project.app","mode":"managed","type":"aws_codebuild_project","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","artifacts":[{"artifact_identifier":"","bucket_owner_access":"","encryption_disabled":false,"location":"","name":"","namespace_type":"","override_artifact_name":false,"packaging":"","path":"","type":"NO_ARTIFACTS"}],"badge_enabled":false,"badge_url":"","build_batch_config":[],"build_timeout":60,"cache":[{"location":"","modes":[],"type":"NO_CACHE"}],"concurrent_build_limit":0,"description":"","encryption_key":"arn:aws:kms:us-east-1:647187952873:alias/aws/s3","environment":[{"certificate":"","compute_type":"BUILD_GENERAL1_SMALL","docker_server":[],"environment_variable":[{"name":"ECR_REPO","type":"PLAINTEXT","value":"647187952873.dkr.ecr.us-east-1.amazonaws.com/demo-app"},{"name":"CLUSTER_NAME","type":"PLAINTEXT","value":"demo-eks"}],"fleet":[],"image":"aws/codebuild/standard:6.0","image_pull_credentials_type":"CODEBUILD","privileged_mode":true,"registry_credential":[],"type":"LINUX_CONTAINER"}],"file_system_locations":[],"id":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build","logs_config":[{"cloudwatch_logs":[{"group_name":"","status":"ENABLED","stream_name":""}],"s3_logs":[{"bucket_owner_access":"","encryption_disabled":false,"location":"","status":"DISABLED"}]}],"name":"demo-grpc-build","project_visibility":"PRIVATE","public_project_alias":"","queued_timeout":480,"region":"us-east-1","resource_access_role":"","secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"service_role":"arn:aws:iam::647187952873:role/demo-codebuild-role","source":[{"auth":[],"build_status_config":[{"context":"codebuild/demo-grpc","target_url":""}],"buildspec":"buildspec.yml","git_clone_depth":1,"git_submodules_config":[],"insecure_ssl":false,"location":"https://github.com/gseguierjc/simetrik-demo","report_build_status":false,"type":"GITHUB"}],"source_version":"","tags":{},"tags_all":{},"vpc_config":[]},"sensitive_values":{"artifacts":[{}],"build_batch_config":[],"cache":[{"modes":[]}],"environment":[{"docker_server":[],"environment_variable":[{},{}],"fleet":[],"registry_credential":[]}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{}],"s3_logs":[{}]}],"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[{}],"git_submodules_config":[]}],"tags":{},"tags_all":{},"vpc_config":[]},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"arn":"arn:aws:codebuild:us-east-1:647187952873:project/demo-grpc-build"}},{"address":"aws_iam_role.codebuild_role","mode":"managed","type":"aws_iam_role","name":"codebuild_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::647187952873:role/demo-codebuild-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-07-10T17:10:01Z","description":"","force_detach_policies":false,"id":"demo-codebuild-role","inline_policy":[{"name":"demo-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser"],"max_session_duration":3600,"name":"demo-codebuild-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROAZNL3IOTU6IDZ4GF2E"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-codebuild-role"}},{"address":"aws_iam_role_policy.codebuild_policy","mode":"managed","type":"aws_iam_role_policy","name":"codebuild_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role:demo-policy","name":"demo-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:InitiateLayerUpload\",\"ecr:UploadLayerPart\",\"ecr:CompleteLayerUpload\",\"ecr:PutImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"eks:DescribeCluster\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:GetToken\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:eks:us-east-1:647187952873:cluster/demo-eks\"},{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role","data.terraform_remote_state.eks"],"identity_schema_version":0,"identity":{"account_id":"647187952873","name":"demo-policy","role":"demo-codebuild-role"}},{"address":"aws_iam_role_policy_attachment.codebuild_ecr","mode":"managed","type":"aws_iam_role_policy_attachment","name":"codebuild_ecr","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"demo-codebuild-role/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"},"sensitive_values":{},"depends_on":["aws_iam_role.codebuild_role"],"identity_schema_version":0,"identity":{"account_id":"647187952873","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser","role":"demo-codebuild-role"}}]}}}
