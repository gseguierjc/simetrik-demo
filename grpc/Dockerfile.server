# 1) Imagen base
FROM python:3.11-slim

# 2) Directorio de trabajo
WORKDIR /app

# 3) Copiar requirements y código
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY server.py .
COPY grpc/certs/ certs/

# 4) Exponer puerto gRPC (ajústalo si tu server escucha otro)
EXPOSE 50051

# 5) Comando por defecto
CMD ["python", "server.py"]
